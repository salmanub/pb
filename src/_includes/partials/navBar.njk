<header id="mainHeader" class="fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm shadow-sm z-50 transition-all duration-300">
    <div class="max-w-[1600px] mx-auto px-[5%]">
        <!-- Top Bar - Solo Desktop -->
        <div class="hidden lg:flex justify-end items-center h-10 border-b border-slate-100">
            <!-- Language Selector -->
            <div class="flex items-center gap-1.5 px-4 border-l border-slate-100">
                <a href="/" class="py-1 px-2.5 text-xs font-medium tracking-wider uppercase rounded-md bg-gradient-to-br from-cyan-400 to-cyan-500 text-white hover:shadow-md hover:shadow-cyan-200 transition-all">ES</a>
                <a href="/en" class="py-1 px-2.5 text-xs font-medium tracking-wider uppercase rounded-md text-slate-500 hover:bg-slate-50 hover:text-cyan-500 transition-all">EN</a>
                <a href="/ca" class="py-1 px-2.5 text-xs font-medium tracking-wider uppercase rounded-md text-slate-500 hover:bg-slate-50 hover:text-cyan-500 transition-all">CA</a>
            </div>

            <!-- CTAs -->
            <div class="flex items-center">
                <a href="tel:+34932123456" class="flex items-center gap-2 px-4 py-1.5 text-sm text-slate-500 hover:text-cyan-500 border-l border-slate-100 transition-all group">
                    <svg class="w-4 h-4 text-cyan-400 group-hover:scale-110 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                    </svg>
                    <span>{{metadata.contact.phoneNumber}}</span>
                </a>
                <a href="/presupuesto" class="px-4 py-1.5 text-sm font-semibold text-white bg-gradient-to-br from-cyan-400 to-cyan-500 hover:shadow-md hover:shadow-cyan-200 border-l border-slate-100 transition-all">
                    SOLICITAR PRESUPUESTO
                </a>
            </div>
        </div>

        <!-- Main Navigation -->
        <div class="flex justify-between items-center h-[70px] lg:h-20">
            <!-- Logo -->
            <a href="/" class="flex items-center gap-2 sm:gap-3 group hover:-translate-y-0.5 transition-transform duration-300">
                <svg class="w-10 h-10 sm:w-11 sm:h-11 lg:w-12 lg:h-12 text-cyan-400 transition-all duration-300 filter group-hover:drop-shadow-[0_4px_8px_rgba(0,184,212,0.3)]"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 375 375"
                    preserveAspectRatio="xMidYMid meet">
                    <defs>
                        <clipPath id="2717b77dc4">
                            <path
                                d="M 223.109375 37.496094 L 314.597656 37.496094 L 314.597656 337.6875 L 223.109375 337.6875 Z M 223.109375 37.496094"
                                clip-rule="nonzero"
                            />
                        </clipPath>

                        <clipPath id="9422b2d12e">
                            <path
                                d="M 314.597656 67.992188 L 314.597656 337.496094 L 223.109375 307 L 223.109375 37.496094 Z M 314.597656 67.992188"
                                clip-rule="nonzero"
                            />
                        </clipPath>

                        <clipPath id="b07c821656">
                            <path
                                d="M 146.625 37.496094 L 223.117188 37.496094 L 223.117188 249.945312 L 146.625 249.945312 Z M 146.625 37.496094"
                                clip-rule="nonzero"
                            />
                        </clipPath>

                        <clipPath id="55959a45ff">
                            <path
                                d="M 146.625 62.996094 L 146.625 249.945312 L 223.117188 224.449219 L 223.117188 37.496094 Z M 146.625 62.996094"
                                clip-rule="nonzero"
                            />
                        </clipPath>

                        <clipPath id="a83aa56b9b">
                            <path
                                d="M 112.101562 111.523438 L 177.742188 111.523438 L 177.742188 291.515625 L 112.101562 291.515625 Z M 112.101562 111.523438"
                                clip-rule="nonzero"
                            />
                        </clipPath>

                        <clipPath id="1c3af9afe2">
                            <path
                                d="M 177.742188 133.402344 L 177.742188 291.402344 L 112.101562 269.523438 L 112.101562 111.523438 Z M 177.742188 133.402344"
                                clip-rule="nonzero"
                            />
                        </clipPath>

                        <clipPath id="a2157cede2">
                            <path
                                d="M 60.398438 111.367188 L 112.109375 111.367188 L 112.109375 237.410156 L 60.398438 237.410156 Z M 60.398438 111.367188"
                                clip-rule="nonzero"
                            />
                        </clipPath>

                        <clipPath id="1adccc21aa">
                            <path
                                d="M 60.398438 128.75 L 60.398438 237.410156 L 112.109375 220.175781 L 112.109375 111.515625 Z M 60.398438 128.75"
                                clip-rule="nonzero"
                            />
                        </clipPath>
                    </defs>

                    <g clip-path="url(#2717b77dc4)">
                        <g clip-path="url(#9422b2d12e)">
                            <path
                                fill="currentColor"
                                d="M 314.597656 37.496094 L 314.597656 337.332031 L 223.109375 337.332031 L 223.109375 37.496094 Z M 314.597656 37.496094"
                                fill-opacity="1"
                                fill-rule="nonzero"
                            />
                        </g>
                    </g>

                    <g clip-path="url(#b07c821656)">
                        <g clip-path="url(#55959a45ff)">
                            <path
                                fill="currentColor"
                                d="M 146.625 249.945312 L 146.625 37.496094 L 223.117188 37.496094 L 223.117188 249.945312 Z M 146.625 249.945312"
                                fill-opacity="1"
                                fill-rule="nonzero"
                            />
                        </g>
                    </g>

                    <g clip-path="url(#a83aa56b9b)">
                        <g clip-path="url(#1c3af9afe2)">
                            <path
                                fill="currentColor"
                                d="M 177.742188 111.523438 L 177.742188 291.515625 L 112.101562 291.515625 L 112.101562 111.523438 Z M 177.742188 111.523438"
                                fill-opacity="1"
                                fill-rule="nonzero"
                            />
                        </g>
                    </g>

                    <g clip-path="url(#a2157cede2)">
                        <g clip-path="url(#1adccc21aa)">
                            <path
                                fill="currentColor"
                                d="M 60.398438 237.410156 L 60.398438 111.570312 L 112.109375 111.570312 L 112.109375 237.410156 Z M 60.398438 237.410156"
                                fill-opacity="1"
                                fill-rule="nonzero"
                            />
                        </g>
                    </g>
                </svg>
                <div class="flex flex-col">
                    <span class="text-base sm:text-lg lg:text-xl font-extrabold leading-tight text-slate-800 tracking-wide group-hover:text-cyan-500 transition-colors">PERITO</span>
                    <span class="text-sm sm:text-base lg:text-lg font-semibold text-slate-500 tracking-wider group-hover:text-cyan-400 transition-colors">BARCELONA</span>
                </div>
            </a>

            <!-- Mobile Controls -->
            <div class="flex items-center gap-4 lg:hidden">
                <a href="/presupuesto" class="hidden sm:block px-3 py-2 text-sm font-medium text-white bg-cyan-400 rounded hover:bg-cyan-500 transition-colors">
                    SOLICITAR
                </a>
                <button id="menuButton" class="p-2 text-slate-600 hover:text-cyan-500 transition-colors focus:outline-none" aria-label="Toggle menu">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>

            <!-- Desktop Navigation -->
            <nav class="hidden lg:block">
                <ul class="flex items-center gap-6">
                    <li>
                        <a href="/" class="flex items-center gap-2 text-slate-600 hover:text-cyan-500 font-medium transition-colors">
                            <svg class="w-5 h-5 text-cyan-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/>
                                <path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            </svg>
                            <span>Inicio</span>
                        </a>
                    </li>

                    <!-- Servicios Dropdown -->
                    <li class="relative group">
                        <a href="#" class="flex items-center gap-2 text-slate-600 hover:text-cyan-500 font-medium transition-colors cursor-default">
                            <svg class="w-5 h-5 text-cyan-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                               <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10 9H8"/><path d="M16 13H8"/><path d="M16 17H8"/>
                            </svg>
                            <span>Servicios</span>
                            
                        </a>
                        <!-- Dropdown Menu -->
                        <ul class="absolute left-0 mt-2 w-64 bg-white border border-slate-100 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50">
                            <li>
                                <a href="/construccion/" class="block px-4 py-3 text-sm text-slate-700 hover:bg-cyan-50 hover:text-cyan-600 font-medium transition-colors rounded-t-md group">
                                    <div class="flex items-center gap-3 mb-1">
                                        <div class="w-8 h-8 rounded-lg bg-cyan-500/10 flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                            <svg class="w-5 h-5 text-cyan-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                                                <polyline points="9 22 9 12 15 12 15 22"/>
                                            </svg>
                                        </div>
                                        <span>Peritajes de Construcción</span>
                                    </div>
                                    <span class="block text-xs text-slate-500">Patologías, defectos, vicios ocultos...</span>
                                </a>
                            </li>
                            <li>
                                <a href="/seguros/" class="block px-4 py-3 text-sm text-slate-700 hover:bg-cyan-50 hover:text-cyan-600 font-medium transition-colors rounded-b-md group">
                                    <div class="flex items-center gap-3 mb-1">
                                        <div class="w-8 h-8 rounded-lg bg-cyan-500/10 flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                            <svg class="w-5 h-5 text-cyan-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                                            </svg>
                                        </div>
                                        <span>Peritajes de Seguros</span>
                                    </div>
                                    <span class="block text-xs text-slate-500">Daños, reclamaciones, contraperitajes...</span>
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <a href="/casos-exito/" class="flex items-center gap-2 text-slate-600 hover:text-cyan-500 font-medium transition-colors">
                            <svg class="w-5 h-5 text-cyan-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 7v14"/>
                                <path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"/>
                            </svg>
                            <span>Casos de éxito</span>
                        </a>
                    </li>
                    <li>
                        <a href="/blog/" class="flex items-center gap-2 text-slate-600 hover:text-cyan-500 font-medium transition-colors">
                            <svg class="w-5 h-5 text-cyan-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                            </svg>
                            <span>Blog</span>
                        </a>
                    </li>
                    <li>
                        <a href="/contacto/" class="flex items-center gap-2 text-slate-600 hover:text-cyan-500 font-medium transition-colors">
                            <svg class="w-5 h-5 text-cyan-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                <circle cx="9" cy="7" r="4"/>
                                <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                            </svg>
                            <span>Contacto</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</header>

<!-- Mobile Menu -->
<div id="mobileMenu" class="fixed inset-0 bg-gradient-to-br from-[#0B1030] to-[#1A1F45] transform translate-x-full transition-transform duration-300 ease-in-out z-40">
    <div class="max-w-[1600px] mx-auto px-[5%] h-full pt-[80px] flex flex-col">
        <!-- Navigation -->
        <nav class="flex-1 py-8">
            <ul class="space-y-4">
                <li>
                    <a href="/" class="flex items-center gap-3 px-4 py-3 text-white text-lg hover:text-cyan-500 hover:bg-white/5 rounded-lg transition-all">
                        <svg class="w-6 h-6 text-cyan-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/>
                            <path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        </svg>
                        <span>Inicio</span>
                    </a>
                </li>
                <li>
                    <a href="/construccion/" class="flex items-center gap-3 px-4 py-3 text-white text-lg hover:text-cyan-500 hover:bg-white/5 rounded-lg transition-all">
                        <div class="w-10 h-10 rounded-lg bg-cyan-500/10 flex items-center justify-center">
                            <svg class="w-6 h-6 text-cyan-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                                <polyline points="9 22 9 12 15 12 15 22"/>
                            </svg>
                        </div>
                        <span>Peritajes de Construcción</span>
                    </a>
                </li>
                <li>
                    <a href="/seguros/" class="flex items-center gap-3 px-4 py-3 text-white text-lg hover:text-cyan-500 hover:bg-white/5 rounded-lg transition-all">
                        <div class="w-10 h-10 rounded-lg bg-cyan-500/10 flex items-center justify-center">
                            <svg class="w-6 h-6 text-cyan-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                            </svg>
                        </div>
                        <span>Peritajes de Seguros</span>
                    </a>
                </li>
                <li>
                    <a href="/casos-exito/" class="flex items-center gap-3 px-4 py-3 text-white text-lg hover:text-cyan-500 hover:bg-white/5 rounded-lg transition-all">
                        <svg class="w-6 h-6 text-cyan-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 7v14"/>
                            <path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"/>
                        </svg>
                        <span>Casos de éxito</span>
                    </a>
                </li>
                <li>
                    <a href="/blog/" class="flex items-center gap-3 px-4 py-3 text-white text-lg hover:text-cyan-500 hover:bg-white/5 rounded-lg transition-all">
                        <svg class="w-6 h-6 text-cyan-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                        </svg>
                        <span>Blog</span>
                    </a>
                </li>
                <li>
                    <a href="/contacto/" class="flex items-center gap-3 px-4 py-3 text-white text-lg hover:text-cyan-500 hover:bg-white/5 rounded-lg transition-all">
                        <svg class="w-6 h-6 text-cyan-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        <span>Contacto</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Footer actions -->
        <div class="py-6 border-t border-white/10 bg-gradient-to-b from-transparent to-black/20">
            <!-- Language selector -->
            <div class="flex gap-4 mb-6 px-4">
                <a href="/" class="text-cyan-400 font-medium px-3 py-2 bg-white/10 rounded-md shadow-inner">ES</a>
                <a href="/en" class="text-slate-400 hover:text-cyan-400 font-medium px-3 py-2 hover:bg-white/5 rounded-md transition-all">EN</a>
                <a href="/ca" class="text-slate-400 hover:text-cyan-400 font-medium px-3 py-2 hover:bg-white/5 rounded-md transition-all">CA</a>
            </div>
            
            <!-- Contact options -->
            <div class="space-y-3 mb-6">
                <a href="tel:+34932123456" class="flex items-center gap-3 px-4 py-3 text-slate-300 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg transition-all group">
                    <svg class="w-5 h-5 text-cyan-400 group-hover:scale-110 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                    </svg>
                    <span>+34 932 123 456</span>
                </a>
                <a href="mailto:info@perito.barcelona" class="flex items-center gap-3 px-4 py-3 text-slate-300 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg transition-all group">
                    <svg class="w-5 h-5 text-cyan-400 group-hover:scale-110 transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                        <polyline points="22,6 12,13 2,6"/>
                    </svg>
                    <span>info@perito.barcelona</span>
                </a>
            </div>

            <!-- CTA Button -->
            <div class="px-4">
                <a href="/presupuesto" class="block w-full bg-gradient-to-r from-cyan-400 to-cyan-500 text-white text-center py-4 rounded-lg font-medium hover:shadow-lg hover:shadow-cyan-500/25 hover:-translate-y-0.5 transition-all">
                    SOLICITAR PRESUPUESTO
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Botón flotante para hablar con un perito -->
<a href="tel:+34932123456" id="talkToExpert" class="fixed bottom-7 right-5 z-40 hidden md:flex items-center bg-gradient-to-r from-cyan-400 to-cyan-500 text-white py-3 px-6 rounded-full font-semibold shadow-lg hover:shadow-cyan-500/25 hover:-translate-y-0.5 transition-all">
    <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
    </svg>
    Hablar con un perito
</a>

<script>
    // Toggle para el menú móvil
    document.getElementById('menuButton').addEventListener('click', function() {
        const mobileMenu = document.getElementById('mobileMenu');
        mobileMenu.classList.toggle('translate-x-full');
    });

    // Mostrar/ocultar botón flotante al hacer scroll
    window.addEventListener('scroll', function() {
        const talkButton = document.getElementById('talkToExpert');
        if (window.scrollY > 300) {
            talkButton.classList.remove('hidden');
            talkButton.classList.add('flex');
        } else {
            talkButton.classList.add('hidden');
            talkButton.classList.remove('flex');
        }
    });
</script>